<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <!-- Technical Document Implementation v1.8 -->
    
    <!-- 
    Document Provenance:
      Source: Trigonometry_Module_7b_v4_20251201.html (restructured)
      Created: 2025-12-04 UTC
      Guidelines Version: Technical Document Implementation v1.8
      
      Version History:
        v1 (2025-12-04): Restructured from Module 7b to Module 8. Renumbered all sections
                         from 7b.X to 8.X. Wrote new 8.3 "The Unity of Mathematics" with
                         historical context (Babylonian through modern). Wrote new 8.4
                         "Paths for Further Study" with four career trajectories (CS, 
                         Physics, EE, Data Science). Deleted placeholder 7b.3. Added
                         navigation infrastructure (title page, TOC, figure list, IDs).
        
      Previous History (as Module 7b):
        v4 (2025-12-01): Major restructure - new 7b.2 "Life Beyond the Plane" with
                         historical account of algebra-geometry synthesis
        v3 (2025-11-30): Fixed 7b.1 graphs, added Plotly 3D for sphere
        v2 (2025-11-30): Added 7b.1 figures per review, rewrote Core Insight
        v1 (2025-11-30): Initial draft - Section 7b.1 complete
        
      Validation Status: PASSED (2025-12-04)
        - ftfy encoding check: PASS
        - STEM whitelist validation: PASS
        - TOC link integrity: PASS (32 links, 36 IDs)
        
      Figure Inventory (8 figures):
        Fig. 8.1-1: Why Inverting Functions is Tricky (JSXGraph)
        Fig. 8.1-2: The Arcsine Function (JSXGraph)
        Fig. 8.1-3: The Arccosine Function (JSXGraph)
        Fig. 8.1-4: The Arctangent Function (JSXGraph)
        Fig. 8.1-5: Angle of Elevation (JSXGraph)
        Fig. 8.1-6: The atan2 Problem (JSXGraph)
        Fig. 8.2-1: Triangle on a Sphere (Plotly 3D)
        Fig. 8.2-2: Great Circles vs Lines of Latitude (Plotly 3D)
        
      Section Structure:
        8.1 Inverse Trigonometric Functions
        8.2 Life Beyond the Plane
        8.3 The Unity of Mathematics
        8.4 Paths for Further Study
    -->
    
    <title>Trigonometry Module 8: Extensions and Synthesis</title>
    
    <!-- JSXGraph 1.4.6 for geometric diagrams -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/jsxgraph@1.4.6/distrib/jsxgraph.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jsxgraph@1.4.6/distrib/jsxgraphcore.js"></script>
    
    <!-- Plotly.js for 3D visualizations -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    
    <!-- MathJax v4 for LaTeX equation rendering -->
    <script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true
        },
        chtml: {
            displayOverflow: 'linebreak',
            displayAlign: 'left',
            scale: 1,
            minScale: 0.5,
            linebreaks: {
                inline: true,
                width: '100%',
                lineleading: 0.2
            }
        },
        options: {
            enableMenu: true,
            menuOptions: {
                settings: {
                    assistiveMml: true
                }
            }
        }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-chtml.js" id="MathJax-script" async></script>
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 { color: #1e40af; border-bottom: 3px solid #3b82f6; padding-bottom: 10px; }
        h2 { color: #1e40af; margin-top: 30px; }
        h3 { color: #374151; }

        .highlight { background-color: #dbeafe; padding: 15px; border-left: 4px solid #3b82f6; margin: 20px 0; border-radius: 4px; }
        .example { background-color: #d1fae5; padding: 15px; border-left: 4px solid #10b981; margin: 20px 0; border-radius: 4px; }
        .warning { background-color: #fef3c7; padding: 15px; border-left: 4px solid #f59e0b; margin: 20px 0; border-radius: 4px; }
        .historical { background-color: #fce7f3; padding: 15px; border-left: 4px solid #ec4899; margin: 20px 0; border-radius: 4px; }
        .formula { text-align: center; font-size: 1.2em; margin: 20px 0; padding: 15px; background-color: #f3f4f6; border-radius: 4px; }

        code { background-color: #f3f4f6; padding: 2px 6px; border-radius: 3px; font-family: 'Courier New', monospace; }

        /* Figure container and numbering */
        .graph-container { 
            margin: 30px auto; 
            padding: 20px; 
            background-color: #f9fafb; 
            border-radius: 8px;
            text-align: center;
            max-width: 800px;
        }

        .graph-title { 
            font-weight: bold; 
            color: #1e40af; 
            margin-bottom: 15px; 
            text-align: center; 
        }

        .graph-caption { 
            font-size: 0.9em; 
            color: #6b7280; 
            margin-top: 10px; 
            font-style: italic; 
            text-align: center; 
        }

        /* JSXGraph specific */
        .jxgbox {
            border: 1px solid #e5e7eb;
            background-color: white;
            border-radius: 4px;
            margin: 0 auto;
            padding: 12px;
            box-sizing: border-box;
        }

        ul, ol { margin-left: 20px; }

        table {
            border-collapse: collapse;
            margin: 20px auto;
            background-color: white;
        }

        th, td {
            border: 1px solid #d1d5db;
            padding: 10px 15px;
            text-align: center;
        }

        th {
            background-color: #dbeafe;
            color: #1e40af;
            font-weight: bold;
        }

        .problem {
            background-color: #f3f4f6;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            border-left: 4px solid #6b7280;
        }

        .solution {
            background-color: #f0fdf4;
            padding: 15px;
            margin: 10px 0 20px 20px;
            border-radius: 4px;
            border-left: 4px solid #10b981;
        }

        /* Mobile-specific adjustments */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px;
            }
            
            .jxgbox {
                max-width: 100%;
                padding: 12px;
            }
            
            code, pre {
                white-space: pre-wrap;
                word-break: break-word;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
            
            .highlight, .example, .warning, .historical {
                padding: 12px;
                margin: 15px 0;
            }
        }

        /* Module Title Page Styling */
        .module-title-page {
            text-align: center;
            padding: 50px 20px;
            margin: -40px -40px 30px -40px;
            background: linear-gradient(135deg, #dbeafe 0%, #ede9fe 100%);
            border-bottom: 3px solid #3b82f6;
            border-radius: 10px 10px 0 0;
        }
        
        .module-title-page h1 {
            font-size: 1.5em;
            color: #1e40af;
            border-bottom: none;
            margin: 0 0 10px 0;
            padding-bottom: 0;
            line-height: 1.3;
        }
        
        .module-title-page .module-subtitle {
            font-size: 1.8em;
            color: #1e40af;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .module-title-page .version {
            font-size: 1.0em;
            color: #6b7280;
            margin-top: 20px;
        }
        
        /* Module Table of Contents Styling */
        .module-toc {
            background-color: #f0f9ff;
            padding: 20px 25px;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
            margin: 25px 0 30px 0;
        }
        
        .module-toc h2 {
            color: #1e40af;
            margin: 0 0 15px 0;
            font-size: 1.3em;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 10px;
        }
        
        .module-toc ul {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        
        .module-toc > ul > li {
            margin: 10px 0;
        }
        
        .module-toc > ul > li > a {
            color: #1e40af;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.0em;
        }
        
        .module-toc > ul > li > a:hover {
            text-decoration: underline;
            color: #3b82f6;
        }
        
        .module-toc ul ul {
            margin: 8px 0 8px 20px;
            padding: 0;
        }
        
        .module-toc ul ul li {
            margin: 5px 0;
        }
        
        .module-toc ul ul a {
            color: #4b5563;
            text-decoration: none;
            font-size: 0.95em;
        }
        
        .module-toc ul ul a:hover {
            text-decoration: underline;
            color: #3b82f6;
        }
        
        /* List of Figures Styling */
        .figure-list {
            background-color: #fefce8;
            padding: 15px 20px;
            border-radius: 8px;
            border: 1px solid #fde047;
            margin: 0 0 35px 0;
        }
        
        .figure-list h3 {
            color: #854d0e;
            margin: 0 0 12px 0;
            font-size: 1.1em;
            border-bottom: 1px solid #facc15;
            padding-bottom: 8px;
        }
        
        .figure-list ul {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        
        .figure-list li {
            margin: 6px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .figure-list li::before {
            content: "\25B6";
            position: absolute;
            left: 0;
            color: #ca8a04;
            font-size: 0.8em;
        }
        
        .figure-list a {
            color: #92400e;
            text-decoration: none;
            font-size: 0.95em;
        }
        
        .figure-list a:hover {
            text-decoration: underline;
            color: #b45309;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- MODULE TITLE PAGE -->
        <div class="module-title-page">
            <h1>An Introduction to Trigonometry and its Application</h1>
            <div class="module-subtitle">Module 8: Extensions and Synthesis</div>
            <div class="version">Version 1.0 &mdash; December 2025</div>
        </div>

        <!-- MODULE TABLE OF CONTENTS -->
        <div class="module-toc">
            <h2>In This Module</h2>
            <ul>
                <li><a href="#sec-8-1">8.1 Inverse Trigonometric Functions</a>
                    <ul>
                        <li><a href="#subsec-inverse-problem">The Problem: Trigonometric Functions Aren't One-to-One</a></li>
                        <li><a href="#subsec-historical-inverse">Historical Development</a></li>
                        <li><a href="#subsec-three-inverses">The Three Principal Inverse Functions</a></li>
                        <li><a href="#subsec-practical-atan2">Practical Applications and the atan2 Function</a></li>
                    </ul>
                </li>
                <li><a href="#sec-8-2">8.2 Life Beyond the Plane</a>
                    <ul>
                        <li><a href="#subsec-trig-gateway">Trigonometry as a Gateway</a></li>
                        <li><a href="#subsec-two-traditions">Two Ancient Traditions</a></li>
                        <li><a href="#subsec-great-synthesis">The Great Synthesis: Analytic Geometry</a></li>
                        <li><a href="#subsec-trig-case-study">Trigonometry: A Case Study in Synthesis</a></li>
                        <li><a href="#subsec-spherical-trig">Spherical Trigonometry: A Brief Introduction</a></li>
                    </ul>
                </li>
                <li><a href="#sec-8-3">8.3 The Unity of Mathematics</a>
                    <ul>
                        <li><a href="#subsec-history-landscape">A Brief History: How the Landscape Emerged</a></li>
                        <li><a href="#subsec-five-pillars">The Pillars of Modern Mathematics</a></li>
                        <li><a href="#subsec-great-intersections">Where the Pillars Meet: The Great Intersections</a></li>
                        <li><a href="#subsec-trig-place">Trigonometry's Place in the Landscape</a></li>
                    </ul>
                </li>
                <li><a href="#sec-8-4">8.4 Paths for Further Study</a>
                    <ul>
                        <li><a href="#subsec-calculus-gateway">For Everyone: The Calculus Gateway</a></li>
                        <li><a href="#subsec-trajectory-cs">Trajectory 1: Computer Science and Software Engineering</a></li>
                        <li><a href="#subsec-trajectory-physics">Trajectory 2: Physics and Applied Mathematics</a></li>
                        <li><a href="#subsec-trajectory-ee">Trajectory 3: Electrical and Digital Engineering</a></li>
                        <li><a href="#subsec-trajectory-data">Trajectory 4: Data Science and Quantitative Fields</a></li>
                        <li><a href="#subsec-resources">Resources for Self-Study</a></li>
                        <li><a href="#subsec-final-thoughts">Final Thoughts on Further Study</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <!-- LIST OF FIGURES -->
        <div class="figure-list">
            <h3>Figures in This Module</h3>
            <ul>
                <li><a href="#fig-8-1-1">Fig. 8.1-1: Why Inverting Functions is Tricky</a></li>
                <li><a href="#fig-8-1-2">Fig. 8.1-2: The Arcsine Function</a></li>
                <li><a href="#fig-8-1-3">Fig. 8.1-3: The Arccosine Function</a></li>
                <li><a href="#fig-8-1-4">Fig. 8.1-4: The Arctangent Function</a></li>
                <li><a href="#fig-8-1-5">Fig. 8.1-5: Angle of Elevation</a></li>
                <li><a href="#fig-8-1-6">Fig. 8.1-6: The atan2 Problem</a></li>
                <li><a href="#fig-8-2-1">Fig. 8.2-1: Triangle on a Sphere</a></li>
                <li><a href="#fig-8-2-2">Fig. 8.2-2: Great Circles vs Lines of Latitude</a></li>
            </ul>
        </div>

        <h1>Module 8: Extensions and Synthesis</h1>
        <p style="font-size: 1.05em; font-style: italic; color: #6b7280; margin-bottom: 30px;">
            Estimated time: 1.5–2 hours
        </p>

        <p>
            This final module completes our journey through trigonometry. We begin with inverse trigonometric functions—essential tools for finding angles when you know the ratios. Then we step back to see trigonometry in a broader context: as a powerful synthesis of geometry and algebra, one that extends naturally to curved surfaces like the Earth. Along the way, we'll glimpse how these ideas connect to modern technology and point toward paths for further study.
        </p>

        <!-- ============================================================ -->
        <!-- SECTION 8.1: INVERSE TRIGONOMETRIC FUNCTIONS -->
        <!-- ============================================================ -->

        <h2 id="sec-8-1">8.1 Inverse Trigonometric Functions</h2>

        <p>
            Throughout this course, we've become comfortable with questions like "What is sin(30°)?" and learned that the answer is 0.5. But real-world problems often work the other way around. A surveyor measures that a distant peak appears at a certain height-to-distance ratio and needs to find the actual angle of elevation. A programmer calculating the direction from one point to another on a screen knows the horizontal and vertical distances but needs the angle. These situations demand that we "undo" the trigonometric functions—a task that turns out to be more subtle than it first appears.
        </p>

        <h3 id="subsec-inverse-problem">8.1.1 The Problem: Trigonometric Functions Aren't One-to-One</h3>

        <p>
            To understand why finding angles from ratios is tricky, consider this: if someone tells you that $\sin(\theta) = 0.5$, what is $\theta$? Your first instinct might be 30° (or $\pi/6$ radians), and that's correct. But so is 150°. And so is 390°, and 510°, and infinitely many other angles. The sine function produces the same output for many different inputs.
        </p>

        <p>
            This is fundamentally different from a function like $f(x) = 2x + 3$. If you know that $f(x) = 11$, there's exactly one value of $x$ that works (namely, $x = 4$). Such functions are called <strong>one-to-one</strong>: each output corresponds to exactly one input, so we can unambiguously reverse the process.
        </p>

        <p>
            The figure below illustrates this difference dramatically. Consider three functions and ask: for how many values of $x$ does each function equal 0.5?
        </p>

        <!-- Figure 8.1-1: Why Inverting Functions is Tricky -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.1-1: Why Inverting Functions Can Be Tricky</div>
            <div id="fig-8-1-1" class="jxgbox" style="width:100%; max-width:600px; aspect-ratio:1.4; margin:0 auto;"></div>
            <div class="graph-caption">Three functions intersecting the line $y = 0.5$. The linear function (blue) crosses once, the quadratic (green) crosses twice, and the sine function (red) crosses eight times in this view alone—and would cross infinitely many times if we extended the graph further.</div>
        </div>

        <p>
            The linear function crosses the horizontal line exactly once—given any output, we can find exactly one input. The quadratic crosses twice—a single output might come from two different inputs. But the sine function crosses eight times just in the portion shown, and would cross infinitely many more times if we extended the graph. This is the fundamental challenge: when many different inputs produce the same output, how do we pick just one?
        </p>

        <div class="highlight">
            <strong>The Key Insight:</strong> For a function like $\sin(x)$, where many different values of $x$ give the same value of $y$, finding a single value for $x$ given $y$ requires that we limit the interval of $x$ that we consider. If we restrict $x$ to lie between $-\pi/2$ and $\pi/2$, then for each value of $y$ between $-1$ and $1$, there is exactly one $x$ in that interval with $y = \sin(x)$.
        </div>

        <h3 id="subsec-historical-inverse">8.1.2 Historical Development</h3>

        <p>
            The need to find angles from ratios is as old as trigonometry itself. Ancient astronomers and surveyors routinely performed this operation, but they did so using tables rather than symbolic functions. You would look up your ratio in a table of sines and read off the corresponding angle—a process that implicitly performed the inverse operation.
        </p>

        <div class="historical">
            <strong>Madhava and the Kerala School (~1400 CE)</strong>
            <p>
                The Indian mathematician Madhava of Sangamagrama, working in Kerala in southern India, made a remarkable discovery: he found an infinite series for the arctangent function. His formula, which we would write today as:
            </p>
            <p style="text-align: center;">
                $\arctan(x) = x - \frac{x^3}{3} + \frac{x^5}{5} - \frac{x^7}{7} + \cdots$
            </p>
            <p>
                was developed roughly 250 years before European mathematicians discovered it independently. The Kerala School's work on infinite series was remarkably sophisticated, anticipating key ideas of calculus. Madhava's series for arctangent, when evaluated at $x = 1$, gives a formula for $\pi/4$—one of the earliest infinite series for pi.
            </p>
        </div>

        <p>
            The symbolic notation for inverse trigonometric functions developed much later, during the 18th century when mathematicians began treating functions more abstractly.
        </p>

        <div class="historical">
            <strong>The Evolution of Notation</strong>
            <p>
                <strong>Daniel Bernoulli (1729)</strong> introduced the first symbolic notation for inverse trigonometric functions, writing "A S." as an abbreviation for "Arcus Sinus" (arc of the sine) in his work on vibrating strings.
            </p>
            <p>
                <strong>Leonhard Euler (1736)</strong> used similar notation in his foundational text <em>Mechanica</em>, writing "A t" for arctangent.
            </p>
            <p>
                <strong>John Herschel (1813)</strong> introduced the notation $\sin^{-1}(x)$ in the <em>Philosophical Transactions of the Royal Society of London</em>, using the superscript −1 by analogy with $f^{-1}$ for inverse functions generally.
            </p>
        </div>

        <div class="warning">
            <strong>A Notational Trap:</strong> The notation $\sin^{-1}(x)$ is unfortunately ambiguous. In most mathematical contexts, a superscript indicates a power: $\sin^2(x)$ means $(\sin x)^2$. By that logic, $\sin^{-1}(x)$ should mean $1/\sin(x)$—but it doesn't! It means the inverse function. This inconsistency has confused generations of students. The notation $\arcsin(x)$ avoids this ambiguity entirely, which is why many mathematicians and educators prefer it. The "arc" prefix also has geometric meaning: $\arcsin(x)$ is "the arc whose sine is $x$," and on the unit circle, arc length in radians equals the angle measure.
        </div>

        <h3 id="subsec-three-inverses">8.1.3 The Three Principal Inverse Functions</h3>

        <p>
            The mathematical community has settled on standard restrictions for each of the three main inverse trigonometric functions. These choices aren't arbitrary—they're designed to be continuous, to include the most commonly needed angles, and to cover all possible output values exactly once.
        </p>

        <h4>Arcsine: $\arcsin(x)$ or $\sin^{-1}(x)$</h4>

        <p>
            To make sine invertible, we restrict it to the interval $[-\pi/2, \pi/2]$ (or −90° to 90°). On this interval, sine increases steadily from −1 to 1, hitting each value exactly once.
        </p>

        <table>
            <tr>
                <th>Property</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Domain (input)</td>
                <td>$[-1, 1]$</td>
            </tr>
            <tr>
                <td>Range (output)</td>
                <td>$[-\pi/2, \pi/2]$ or $[-90°, 90°]$</td>
            </tr>
            <tr>
                <td>Key values</td>
                <td>$\arcsin(0) = 0$, $\arcsin(0.5) = \pi/6$, $\arcsin(1) = \pi/2$</td>
            </tr>
        </table>

        <p>
            The figure below shows the restricted sine function (blue), its inverse the arcsine function (green), and the line $y = x$ (dashed gray). The arcsine is a reflection of the restricted sine across this line—a geometric relationship that holds for any function and its inverse.
        </p>

        <!-- Figure 8.1-2: Arcsine Function -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.1-2: The Arcsine Function</div>
            <div id="fig-8-1-2" class="jxgbox" style="width:100%; max-width:500px; aspect-ratio:1; margin:0 auto;"></div>
            <div class="graph-caption">Blue: restricted sine on $[-\pi/2, \pi/2]$. Green: arcsine. Gray dashed: the line $y = x$. The two curves are mirror images across this line.</div>
        </div>

        <h4>Arccosine: $\arccos(x)$ or $\cos^{-1}(x)$</h4>

        <p>
            For cosine, the standard restriction is $[0, \pi]$ (0° to 180°). On this interval, cosine decreases steadily from 1 to −1, again hitting each value exactly once.
        </p>

        <table>
            <tr>
                <th>Property</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Domain (input)</td>
                <td>$[-1, 1]$</td>
            </tr>
            <tr>
                <td>Range (output)</td>
                <td>$[0, \pi]$ or $[0°, 180°]$</td>
            </tr>
            <tr>
                <td>Key values</td>
                <td>$\arccos(1) = 0$, $\arccos(0.5) = \pi/3$, $\arccos(0) = \pi/2$</td>
            </tr>
        </table>

        <p>
            An elegant relationship connects arcsine and arccosine: for any $x$ in $[-1, 1]$,
        </p>

        <div class="formula">
            $\arcsin(x) + \arccos(x) = \frac{\pi}{2}$
        </div>

        <p>
            This makes geometric sense: if an angle $\theta$ has a certain sine, then its complement $(90° - \theta)$ has that same value as its cosine. So the two inverse functions always sum to a right angle.
        </p>

        <!-- Figure 8.1-3: Arccosine Function -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.1-3: The Arccosine Function</div>
            <div id="fig-8-1-3" class="jxgbox" style="width:100%; max-width:500px; aspect-ratio:1; margin:0 auto;"></div>
            <div class="graph-caption">Blue: restricted cosine on $[0, \pi]$. Green: arccosine. Gray dashed: the line $y = x$. Note that arccosine decreases (unlike arcsine which increases).</div>
        </div>

        <h4>Arctangent: $\arctan(x)$ or $\tan^{-1}(x)$</h4>

        <p>
            The tangent function presents a different situation. It's already one-to-one on each branch between its vertical asymptotes, so we just need to choose one branch. The standard choice is $(-\pi/2, \pi/2)$, the branch centered at zero.
        </p>

        <table>
            <tr>
                <th>Property</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Domain (input)</td>
                <td>All real numbers</td>
            </tr>
            <tr>
                <td>Range (output)</td>
                <td>$(-\pi/2, \pi/2)$ or $(-90°, 90°)$</td>
            </tr>
            <tr>
                <td>Key values</td>
                <td>$\arctan(0) = 0$, $\arctan(1) = \pi/4$, $\arctan(\sqrt{3}) = \pi/3$</td>
            </tr>
            <tr>
                <td>Asymptotic behavior</td>
                <td>$\arctan(x) \to \pm\pi/2$ as $x \to \pm\infty$</td>
            </tr>
        </table>

        <p>
            Unlike arcsine and arccosine, arctangent accepts any real number as input—because the tangent function achieves all real values. The output, however, is bounded: arctangent approaches but never reaches $\pm\pi/2$. These horizontal asymptotes make arctangent particularly useful in applications where you need to map an unlimited range of values into a bounded interval.
        </p>

        <!-- Figure 8.1-4: Arctangent Function -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.1-4: The Arctangent Function</div>
            <div id="fig-8-1-4" class="jxgbox" style="width:100%; max-width:550px; aspect-ratio:1; margin:0 auto;"></div>
            <div class="graph-caption">Blue: restricted tangent on $(-\pi/2, \pi/2)$. Green: arctangent. Gray dashed: the line $y = x$. The tangent has vertical asymptotes; the arctangent has horizontal asymptotes at $\pm\pi/2$.</div>
        </div>

        <h3 id="subsec-practical-atan2">8.1.4 Practical Applications and the atan2 Function</h3>

        <p>
            In practice, inverse trigonometric functions appear whenever we need to recover an angle from measured quantities. Here are two typical scenarios:
        </p>

        <div class="example">
            <strong>Example: Angle of Elevation</strong>
            <p>
                A surveyor stands 50 meters from the base of a tower and measures that the top of the tower is 35 meters higher than eye level. What is the angle of elevation?
            </p>
            <p>
                <strong>Solution:</strong> The tangent of the angle equals the opposite side (height) over the adjacent side (distance):
            </p>
            <p style="text-align: center;">
                $\tan(\theta) = \frac{35}{50} = 0.7$
            </p>
            <p>
                Therefore: $\theta = \arctan(0.7) \approx 0.611$ radians $\approx 35.0°$
            </p>
        </div>

        <!-- Figure 8.1-5: Angle of Elevation -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.1-5: Angle of Elevation</div>
            <div id="fig-8-1-5" class="jxgbox" style="width:100%; max-width:450px; aspect-ratio:1.4; margin:0 auto;"></div>
            <div class="graph-caption">The surveyor at point S looks up at angle $\theta$ to see the top of the tower T. With distance 50 m and height 35 m, the angle is $\arctan(35/50) \approx 35°$.</div>
        </div>

        <div class="example">
            <strong>Example: Direction Between Points</strong>
            <p>
                In a video game, a character at position $(3, 2)$ needs to face toward an enemy at position $(7, 5)$. What angle should the character face (measured counter-clockwise from the positive x-axis)?
            </p>
            <p>
                <strong>Solution:</strong> The displacement vector is $(7-3, 5-2) = (4, 3)$. The angle from the positive x-axis is:
            </p>
            <p style="text-align: center;">
                $\theta = \arctan\left(\frac{3}{4}\right) \approx 0.644$ radians $\approx 36.9°$
            </p>
        </div>

        <p>
            The second example reveals a subtle problem. What if the enemy were at position $(-1, -1)$ instead, with displacement $(-4, -3)$? The ratio would be $(-3)/(-4) = 0.75$, and $\arctan(0.75) \approx 36.9°$ again—but that's clearly wrong! The target is down and to the left (third quadrant), so the correct angle should be around $180° + 36.9° = 216.9°$.
        </p>

        <!-- Figure 8.1-6: The atan2 Problem -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.1-6: Why We Need atan2</div>
            <div id="fig-8-1-6" class="jxgbox" style="width:100%; max-width:450px; aspect-ratio:1; margin:0 auto;"></div>
            <div class="graph-caption">Two displacement vectors with the same ratio $y/x = 3/4$: the blue vector $(4, 3)$ points to the first quadrant ($\approx 37°$), while the orange vector $(-4, -3)$ points to the third quadrant ($\approx 217°$). Standard arctangent gives the same answer for both!</div>
        </div>

        <p>
            The basic arctangent function can't distinguish between opposite directions because it only sees the ratio, not the individual signs of the numerator and denominator. This is why programming languages and calculators provide a special two-argument function:
        </p>

        <div class="highlight">
            <strong>The atan2 Function</strong>
            <p>
                The function <code>atan2(y, x)</code> takes both coordinates separately and returns the angle in the correct quadrant. It's defined for all points except the origin, and returns values in the range $(-\pi, \pi]$ (or $(-180°, 180°]$).
            </p>
            <p>
                Most programming languages provide this function: <code>Math.atan2(y, x)</code> in JavaScript, <code>math.atan2(y, x)</code> in Python, and similar in other languages. When computing directions in applications, <code>atan2</code> is almost always what you want.
            </p>
        </div>

        <p>
            The <code>atan2</code> function is not just a convenience—it handles edge cases that would otherwise require special treatment. When $x = 0$, ordinary arctangent would require dividing by zero, but <code>atan2(y, 0)</code> correctly returns $\pm\pi/2$ depending on the sign of $y$.
        </p>

        <!-- ============================================================ -->
        <!-- SECTION 8.2: LIFE BEYOND THE PLANE -->
        <!-- ============================================================ -->

        <h2 id="sec-8-2">8.2 Life Beyond the Plane</h2>

        <h3 id="subsec-trig-gateway">8.2.1 Trigonometry as a Gateway</h3>

        <p>
            Everything we've learned in this course has taken place on a flat surface—the plane. Our triangles, our unit circle, our graphs of sine and cosine all live in this two-dimensional world where parallel lines never meet and the angles of a triangle sum to exactly 180°. But the world we inhabit is not flat. We live on the surface of a sphere, and when we do geometry on curved surfaces, surprising things happen.
        </p>

        <p>
            If you like to think big, consider this: modern physics tells us the universe itself is a curved, four-dimensional structure whose geometry is bent dynamically by the presence of mass and energy—this is Einstein's general relativity. Trigonometry, as a synthesis of algebra and geometry, is a first step on a long but fascinating path toward understanding such grand ideas.
        </p>

        <p>
            Imagine drawing a triangle on a basketball. Start at the "north pole" of the ball, draw a straight line (following the curved surface) down to the "equator," turn 90°, walk a quarter of the way around the equator, turn 90° again, and head back to the pole. You've just traced a triangle with <em>three right angles</em>—an impossibility on a flat surface! If you carefully measured the angles of any triangle drawn on a smooth portion of a sphere, they would always sum to <em>more</em> than 180°.
        </p>

        <!-- Figure 8.2-1: Triangle on a Sphere -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.2-1: A Triangle on a Sphere</div>
            <div id="fig-8-2-1" style="width:100%; max-width:500px; height:450px; margin:0 auto;"></div>
            <div class="graph-caption">A triangle drawn on a sphere. Unlike flat triangles, the angles sum to more than 180°. Drag to rotate the view.</div>
        </div>

        <p>
            Given that we live on a roughly spherical Earth, it's no surprise that <em>spherical trigonometry</em>—the study of triangles on spheres—was one of the earliest extensions beyond planar trigonometry. Navigators needed it to plot courses across oceans, astronomers needed it to track objects across the dome of the sky, and religious scholars needed it to determine prayer directions across vast distances. We'll survey spherical trigonometry briefly in the next section.
        </p>

        <p>
            But before we do, it's worth stepping back to appreciate what trigonometry really represents. While we haven't made a point of it, our lessons have been an extended exercise in something profound: the <strong>synthesis of geometry and algebra</strong>.
        </p>

        <h4 id="subsec-two-traditions">Two Ancient Traditions</h4>

        <p>
            <strong>Geometry</strong> is visual and spatial. It deals with shapes, figures, and constructions. The ancient Greeks, particularly through Euclid's <em>Elements</em> (c. 300 BCE), developed geometry to an extraordinary degree of sophistication. They could prove that the angles of a triangle sum to 180°, construct regular polygons with compass and straightedge, and demonstrate the Pythagorean theorem—all through purely visual and logical reasoning, without any use of equations or symbols.
        </p>

        <p>
            <strong>Algebra</strong> is symbolic and computational. Rather than drawing pictures, algebra manipulates symbols according to formal rules. The word itself comes from the Arabic <em>al-jabr</em>, meaning "restoration" or "completion," from the title of a groundbreaking book written around 820 CE.
        </p>

        <div class="historical">
            <strong>Al-Khwarizmi and the Birth of Algebra</strong>
            <p>
                <strong>Muhammad ibn Musa al-Khwarizmi</strong> (c. 780–850 CE), working in Baghdad's House of Wisdom, wrote <em>Al-Kitab al-Mukhtasar fi Hisab al-Jabr wal-Muqabala</em> (The Compendious Book on Calculation by Completion and Balancing). This work systematically showed how to solve equations by performing the same operation on both sides—the fundamental principle of algebra. The word "algorithm" derives from the Latinization of his name.
            </p>
            <p>
                Al-Khwarizmi's algebra was still largely verbal and geometric—he would describe a square and its sides rather than writing $x^2$. But the crucial step was treating the <em>unknown quantity</em> as an object that could be manipulated according to rules, paving the way for symbolic algebra.
            </p>
        </div>

        <div class="historical">
            <strong>Omar Khayyam and Geometric Algebra</strong>
            <p>
                <strong>Omar Khayyam</strong> (1048–1131 CE), better known in the West for his poetry (<em>Rubaiyat</em>), was also a brilliant mathematician. He solved cubic equations—something al-Khwarizmi couldn't do—by finding where curves intersect. For example, to solve $x^3 + x = 20$, Khayyam constructed a parabola and a circle and found their intersection point.
            </p>
            <p>
                This approach used geometry to solve algebraic problems, but the two fields remained largely separate. The curves were tools for finding numerical answers, not objects of algebraic study in themselves.
            </p>
        </div>

        <h4 id="subsec-great-synthesis">The Great Synthesis: Analytic Geometry</h4>

        <p>
            The decisive fusion of algebra and geometry came in 1637, when the French philosopher and mathematician <strong>René Descartes</strong> published <em>La Géométrie</em> as an appendix to his famous <em>Discourse on the Method</em>. Descartes' revolutionary idea was to place geometric figures on a coordinate grid and describe them with equations.
        </p>

        <div class="historical">
            <strong>Descartes' Breakthrough</strong>
            <p>
                Before Descartes, a circle was a geometric object—something you drew with a compass. After Descartes, a circle was <em>also</em> an equation: $x^2 + y^2 = r^2$. A line was both a visual object and an equation like $y = mx + b$. The parabolas Omar Khayyam used to solve equations could now be studied as algebraic objects in their own right.
            </p>
            <p>
                This <strong>analytic geometry</strong> (also called Cartesian geometry, after Descartes) meant that geometric questions could be answered by algebraic calculation, and algebraic equations could be visualized as curves. The coordinate plane we've used throughout this course—with its x and y axes—is Descartes' invention.
            </p>
        </div>

        <p>
            Independently, <strong>Pierre de Fermat</strong> developed similar ideas around the same time, though his work wasn't published until after his death. The stage was set for an explosion of mathematical progress.
        </p>

        <h4 id="subsec-trig-case-study">Trigonometry: A Case Study in Synthesis</h4>

        <p>
            Our study of trigonometry is a perfect example of this synthesis in action. Consider what we've done:
        </p>

        <p>
            We started with <strong>geometric objects</strong>—triangles and circles. The ancient relationships between sides and angles were purely geometric facts, discovered through measurement and visual reasoning.
        </p>

        <p>
            We then expressed these relationships as <strong>algebraic functions</strong>—sine, cosine, tangent—that take numerical inputs and produce numerical outputs. The identity $\sin^2\theta + \cos^2\theta = 1$ is an algebraic equation, but it expresses a geometric fact (the Pythagorean theorem on the unit circle).
        </p>

        <p>
            We graphed these functions, using Descartes' coordinate system to visualize algebraic relationships. The wave-like curves of sine and cosine are geometric pictures of algebraic functions.
        </p>

        <p>
            And we used algebraic manipulation to derive identities—transforming one expression into another according to symbolic rules, yet always with geometric meaning underlying the symbols.
        </p>

        <div class="highlight">
            <strong>The Power of Synthesis:</strong> By combining geometric intuition with algebraic technique, we gained tools more powerful than either alone. We can <em>visualize</em> relationships that would be obscure in pure algebra, and we can <em>calculate</em> quantities that would be impossible to construct with compass and straightedge. This synthesis is not just an historical curiosity—it's the foundation of modern mathematics, physics, and engineering.
        </div>

        <p>
            To a mathematician, this observation is the beginning of a whole series of studies with surprising applications. Different geometries (curved surfaces, higher dimensions, stranger spaces) can each be married to appropriate algebraic structures. The results power both our understanding of the world—from Einstein's curved spacetime to the geometry of data in machine learning—and our mastery of technology.
        </p>

        <p>
            So our study of planar trigonometry is a kind of gateway: an introduction to the powerful idea that geometry and algebra can be unified, and that this unification yields insights neither could achieve alone. In the next section, we'll see a first glimpse of what happens when we take these ideas beyond the flat plane.
        </p>

        <h3 id="subsec-spherical-trig">8.2.2 Spherical Trigonometry: A Brief Introduction</h3>

        <p>
            Every day, thousands of airplanes fly routes that look strangely curved on flat maps. A flight from New York to Tokyo doesn't head west across the continental United States—it goes north, over Canada and Alaska, then curves down toward Japan. This isn't a detour; it's actually the shortest path. Understanding why requires moving beyond flat-surface trigonometry and onto the surface of a sphere.
        </p>

        <h4>When Flat-Earth Math Fails</h4>

        <p>
            All the trigonometry we've developed assumes we're working on a flat plane. On a flat surface, the shortest path between two points is a straight line, and the angles of any triangle sum to exactly 180°. But Earth is approximately a sphere, and on a sphere, these familiar facts break down.
        </p>

        <p>
            <strong>The shortest path between two points on a sphere is not a "straight line"</strong> in the usual sense—it's an arc of a <em>great circle</em>. In fact, a truly straight line between two points on a sphere wouldn't lie on the sphere's surface at all. An airplane trying to fly a "straight line" from New York to London would have to burrow under the Atlantic Ocean!
        </p>

        <p>
            A <strong>great circle</strong> is any circle on the sphere whose center is also the center of the sphere. The equator is a great circle; so is every line of longitude (meridian). But most lines of latitude are <em>not</em> great circles—they have smaller radii, and their centers lie on Earth's axis rather than at Earth's center.
        </p>

        <!-- Figure 8.2-2: Great Circles vs Lines of Latitude -->
        <div class="graph-container">
            <div class="graph-title">Fig. 8.2-2: Great Circles vs. Lines of Latitude</div>
            <div id="fig-8-2-2" style="width:100%; max-width:550px; height:450px; margin:0 auto;"></div>
            <div class="graph-caption">Longitude lines (meridians, green) are great circles passing through both poles and Earth's center. Latitude lines (blue) are smaller circles parallel to the equator. Only the equator is both a latitude AND a great circle. Drag to rotate the view.</div>
        </div>

        <div class="highlight">
            <strong>Great Circle Routes:</strong> When an airplane flies from New York to London, it follows a great circle path—the arc of the circle that passes through both cities and has its center at Earth's center. On a flat map using common projections, this path appears curved, but on the actual globe, it's the straightest possible route.
        </div>

        <p>
            <strong>Triangles on a sphere don't behave like flat triangles.</strong> Consider a triangle formed by: the North Pole, a point on the equator at 0° longitude (in the Gulf of Guinea), and a point on the equator at 90° East longitude (in the Indian Ocean). Each side of this triangle is a quarter of a great circle—90° of arc. And each angle of the triangle is also 90°! The angles sum to 270°, not 180° (as they do on a flat plane).
        </p>

        <p>
            This "extra" angle is called <em>spherical excess</em>, and it's directly related to the area of the triangle. For a spherical triangle with angles $A$, $B$, and $C$:
        </p>

        <div class="formula">
            $A + B + C = 180° + E$
        </div>

        <p>
            where $E$ is the spherical excess. Remarkably, this excess is directly proportional to the area of the triangle:
        </p>

        <div class="formula">
            $\text{Area} = R^2 \cdot E \quad \text{(where } E \text{ is in radians)}$
        </div>

        <p>
            This elegant relationship—discovered in the 18th century—connects the purely angular notion of spherical excess to the geometric notion of area. On a plane, knowing only the angles of a triangle tells you nothing about its size. On a sphere, the angles completely determine the area!
        </p>

        <h4 id="subsec-stars-prayer">A History Written in Stars and Prayer</h4>

        <p>
            Spherical trigonometry developed from two powerful motivations: understanding the heavens and fulfilling religious obligations.
        </p>

        <div class="historical">
            <strong>Ancient Greek Foundations</strong>
            <p>
                <strong>Menelaus of Alexandria (~100 CE)</strong> wrote <em>Sphaerica</em>, the first known treatise devoted to spherical triangles. His work established the basic theorems for triangles drawn on the surface of a sphere.
            </p>
            <p>
                <strong>Claudius Ptolemy (~150 CE)</strong> developed spherical trigonometry extensively in his astronomical masterwork, the <em>Almagest</em>. For Ptolemy, the goal was predicting where planets, the sun, and the moon would appear in the sky—all of which required calculations on the celestial sphere.
            </p>
        </div>

        <div class="historical">
            <strong>The Qibla Problem: Faith Drives Mathematics</strong>
            <p>
                Five times daily, Muslims around the world face toward the Kaaba in Mecca for prayer. This direction, called the <em>qibla</em>, seems simple in concept but posed an extraordinary mathematical challenge: if you're in Baghdad, or Cordoba, or Samarkand, which direction is Mecca?
            </p>
            <p>
                On a flat map, you might draw a straight line. But Earth is round—and a straight line on a flat map is not the same as the shortest path on the globe. To find the true qibla, Islamic scholars needed to solve problems in spherical trigonometry with precision.
            </p>
            <p>
                This religious requirement drove centuries of mathematical innovation and produced some of history's greatest advances in trigonometry.
            </p>
        </div>

        <div class="historical">
            <strong>Islamic Golden Age Breakthroughs</strong>
            <p>
                <strong>Abu al-Wafa al-Buzjani (940–998 CE)</strong> discovered the spherical law of sines, a fundamental relationship for spherical triangles analogous to the law of sines for plane triangles.
            </p>
            <p>
                <strong>Al-Jayyani (989–1079 CE)</strong> wrote <em>The Book of Unknown Arcs of a Sphere</em>, the first treatise to treat spherical trigonometry as a complete mathematical discipline in its own right—not just a tool for astronomy.
            </p>
            <p>
                <strong>Nasir al-Din al-Tusi (1201–1274 CE)</strong> systematized the entire field of spherical trigonometry. His work was the standard reference for centuries.
            </p>
        </div>

        <div class="historical">
            <strong>European Navigation and Logarithms</strong>
            <p>
                <strong>Regiomontanus (1464)</strong> wrote <em>De Triangulis Omnimodis</em> (On Triangles of All Kinds), which brought spherical trigonometry into European mathematics.
            </p>
            <p>
                <strong>John Napier (1614)</strong> invented logarithms explicitly to simplify the laborious calculations of spherical trigonometry needed for navigation. His invention transformed mathematical practice and remained essential until electronic calculators appeared.
            </p>
        </div>

        <h4 id="subsec-beyond-intro">Beyond This Introduction</h4>

        <p>
            With more advanced study, spherical trigonometry develops formulas parallel to those we learned for the plane—laws of sines and cosines adapted for spherical triangles, identities for spherical excess, methods for solving navigation problems. These formulas allow practical calculations on the sphere just as our planar formulas allow calculations on flat surfaces.
        </p>

        <p>
            We are intentionally skipping these details here. What matters for a first trigonometry course is understanding <em>planar</em> trigonometry thoroughly, gaining perspective on how algebra and geometry combine in powerful ways, and knowing that more advanced study can extend these ideas to spherical and other geometries useful for many practical problems.
        </p>

        <h4 id="subsec-modern-applications">Modern Applications</h4>

        <p>
            While we no longer perform these calculations by hand, the mathematics of spherical trigonometry underlies many modern technologies:
        </p>

        <p>
            <strong>Aviation:</strong> Flight planning software calculates great circle routes to minimize fuel consumption. The apparently strange paths you see on in-flight maps are actually the most efficient routes.
        </p>

        <p>
            <strong>GPS Navigation:</strong> Your phone's GPS determines position using satellites, and converting those signals to positions on Earth's surface requires spherical geometry. The actual math is more complex (using an ellipsoidal model of Earth), but spherical trigonometry is the conceptual foundation.
        </p>

        <p>
            <strong>Telecommunications:</strong> Positioning satellite dishes and determining coverage areas for communications satellites both involve spherical calculations.
        </p>

        <p>
            <strong>Astronomy:</strong> Professional and amateur astronomers still use spherical trigonometry to convert between different celestial coordinate systems and to point telescopes at specific objects.
        </p>

        <!-- ============================================================ -->
        <!-- SECTION 8.3: THE UNITY OF MATHEMATICS -->
        <!-- ============================================================ -->

        <h2 id="sec-8-3">8.3 The Unity of Mathematics</h2>

        <p>
            To the beginner, mathematics often appears as a collection of isolated islands. You study algebra in one course, geometry in another, and trigonometry in a third, with little indication that these subjects speak to one another. But as we've seen throughout this curriculum, the deeper one travels into mathematics, the more these boundaries blur and eventually vanish.
        </p>

        <p>
            Mathematics is not an archipelago of disconnected topics; it is a single, vast continent. The most profound discoveries often occur not within the center of a specific field, but at the borders where different fields collide and merge. Our study of trigonometry has been a perfect example: we began with simple ratios in triangles, connected them to circles and waves, extended them to the complex plane through Euler's formula, and watched them transform into Fourier analysis. Each step revealed deeper unity.
        </p>

        <h3 id="subsec-history-landscape">A Brief History: How the Landscape Emerged</h3>

        <p>
            The unity we see today was not always apparent. Mathematics developed in fits and starts over millennia, with different cultures contributing crucial pieces to the puzzle.
        </p>

        <div class="historical">
            <h4>Ancient Foundations (3000 BCE - 300 CE)</h4>
            <p>
                <strong>Babylonian astronomers</strong> (c. 2000-500 BCE) developed the first trigonometric tables and the sexagesimal (base-60) number system we still use for angles and time. They needed to predict celestial events for religious and agricultural purposes.
            </p>
            <p>
                <strong>Greek geometers</strong> (c. 600-300 BCE) transformed mathematics from practical calculation into rigorous proof. Euclid's <em>Elements</em> (c. 300 BCE) organized geometry into a logical system built from axioms—a model for mathematical rigor that endures today. Archimedes pushed the boundaries toward what we now call calculus, computing areas and volumes through ingenious limiting arguments.
            </p>
        </div>

        <div class="historical">
            <h4>Indian Mathematicians and the Islamic Golden Age (500-1400 CE)</h4>
            <p>
                <strong>Indian mathematicians</strong> (c. 500-1200 CE) developed the decimal place-value system and the concept of zero as a number. Aryabhata and Brahmagupta created sine tables and discovered algebraic methods for solving equations. The Kerala school (c. 1400 CE) even discovered infinite series for trigonometric functions centuries before Newton.
            </p>
            <p>
                <strong>Al-Khwarizmi</strong> (c. 820 CE) wrote the foundational text on algebra, giving us the word itself (from <em>al-jabr</em>). His systematic methods for solving equations introduced the idea that unknown quantities could be manipulated symbolically—a crucial step toward modern mathematics.
            </p>
            <p>
                <strong>Omar Khayyam</strong> (c. 1100 CE) solved cubic equations by finding where curves intersect, presaging the later fusion of algebra and geometry. Islamic scholars preserved and extended Greek mathematics while developing trigonometry as an independent discipline for astronomy and determining the qibla (direction of Mecca).
            </p>
        </div>

        <div class="historical">
            <h4>The Great Synthesis (1600-1700 CE)</h4>
            <p>
                <strong>René Descartes</strong> (1637) unified algebra and geometry by introducing coordinate systems. Suddenly, geometric shapes became algebraic equations, and algebraic equations became visible curves. A circle was both a compass-drawn figure <em>and</em> the equation $x^2 + y^2 = r^2$. This <em>analytic geometry</em> opened floodgates of discovery.
            </p>
            <p>
                <strong>Newton and Leibniz</strong> (1680s) independently invented calculus, providing tools to analyze change and accumulation. Newton used it to explain planetary motion; Leibniz developed the notation we still use today. Their work connected geometry, algebra, and the physics of motion in a single framework.
            </p>
            <p>
                <strong>Leonhard Euler</strong> (18th century) was perhaps history's most prolific mathematician. His formula $e^{i\theta} = \cos\theta + i\sin\theta$ unified exponential functions, trigonometry, and complex numbers in one elegant equation. He contributed to virtually every area of mathematics then known and invented several new ones.
            </p>
        </div>

        <div class="historical">
            <h4>Rigor and Abstraction (1800-1900 CE)</h4>
            <p>
                The 19th century brought a revolution in mathematical rigor. <strong>Cauchy, Weierstrass, and Riemann</strong> placed calculus on firm logical foundations. <strong>Galois</strong> (who died at 20 in a duel) discovered deep connections between polynomial equations and symmetry groups—work that wouldn't be fully appreciated for decades.
            </p>
            <p>
                <strong>Riemann</strong> revolutionized geometry by considering spaces with arbitrary curvature, laying groundwork that Einstein would later use for general relativity. <strong>Cantor</strong> developed set theory and revealed that infinity comes in different sizes—a discovery so radical that it drove him to mental breakdowns and his contemporaries to fury.
            </p>
        </div>

        <div class="historical">
            <h4>The Modern Era (1900-Present)</h4>
            <p>
                The 20th century saw mathematics become both more abstract and more applicable. <strong>Hilbert</strong> attempted to axiomatize all of mathematics, while <strong>Gödel</strong> proved this was impossible—some truths can never be proven within any consistent formal system.
            </p>
            <p>
                Meanwhile, mathematics became essential to technology. <strong>Shannon's</strong> information theory enabled digital communication. <strong>Turing's</strong> work on computation created computer science. <strong>Fourier analysis</strong> (which we studied in Module 7) became the foundation of signal processing, making possible everything from MRI machines to streaming video.
            </p>
            <p>
                Recent decades have seen stunning unifications. <strong>Andrew Wiles'</strong> proof of Fermat's Last Theorem (1995) required techniques from nearly every branch of modern mathematics. The <strong>Langlands program</strong> seeks to unify number theory, algebra, and analysis in ways that are still being explored.
            </p>
        </div>

        <h3 id="subsec-five-pillars">The Pillars of Modern Mathematics</h3>

        <p>
            Despite its underlying unity, mathematicians organize their discipline into broad categories—not because these are truly separate, but because they represent different <em>modes of thinking</em>. Understanding these pillars helps you see where the topics we've studied fit into the larger landscape.
        </p>

        <div class="highlight">
            <h4>The Five Pillars</h4>
            <p>
                <strong>Logic and Foundations:</strong> The bedrock. This is the study of the rules of mathematics itself—axioms, sets, and the rigorous definitions of truth and provability. When we carefully defined what "function" means or what makes a proof valid, we were touching on foundations.
            </p>
            <p>
                <strong>Algebra:</strong> The study of structure, symmetry, and symbolic manipulation. While school algebra focuses on solving for $x$, higher algebra studies abstract structures (groups, rings, fields) that capture the essence of how mathematical objects combine and transform.
            </p>
            <p>
                <strong>Geometry:</strong> The study of shape, space, size, and position. From Euclidean triangles to curved spacetime, geometry answers questions about distance, angles, and spatial relationships.
            </p>
            <p>
                <strong>Analysis:</strong> The study of change, limits, and infinity. This is the rigorous foundation of calculus—continuous functions, derivatives, integrals, and infinite series. When we discussed Fourier series convergence, we were doing analysis.
            </p>
            <p>
                <strong>Topology:</strong> The study of continuity and connectivity. Often called "rubber sheet geometry," topology cares about properties that survive stretching and bending but not tearing. A coffee mug and a donut are topologically identical (both have one hole), but distinct from a sphere.
            </p>
        </div>

        <h3 id="subsec-great-intersections">Where the Pillars Meet: The Great Intersections</h3>

        <p>
            The true power of mathematics emerges when these pillars combine. Our trigonometry course has been an extended tour through several of these intersections.
        </p>

        <div class="example">
            <h4>Algebra + Geometry → Analytic Geometry and Algebraic Geometry</h4>
            <p>
                When you plot $y = \sin x$, you're using Descartes' insight that equations and curves are two views of the same object. This <em>analytic geometry</em> was our primary tool for understanding trigonometric functions visually.
            </p>
            <p>
                At research level, <em>algebraic geometry</em> studies shapes defined by polynomial equations. Elliptic curves—crucial to modern cryptography—live in this intersection. The equation $y^2 = x^3 + ax + b$ defines a curve whose geometric properties translate directly into algebraic structure.
            </p>
        </div>

        <div class="example">
            <h4>Analysis + Geometry → Differential Geometry</h4>
            <p>
                When we briefly discussed spherical trigonometry and curved surfaces, we touched on <em>differential geometry</em>—the application of calculus to curved spaces. This is the language of Einstein's general relativity, where gravity is understood as the curvature of spacetime itself.
            </p>
        </div>

        <div class="example">
            <h4>Analysis + Algebra → Functional Analysis and Harmonic Analysis</h4>
            <p>
                Fourier analysis, which we explored in Module 7, lives here. It treats functions as if they were vectors in an infinite-dimensional space, decomposing complex signals into simple waves. This hybrid field is essential to quantum mechanics, signal processing, and partial differential equations.
            </p>
        </div>

        <div class="example">
            <h4>Algebra + Topology → Algebraic Topology</h4>
            <p>
                How do you mathematically prove that a sphere is different from a donut? Algebraic topology assigns algebraic structures (groups, rings) to shapes. If the algebraic structures differ, the shapes are fundamentally different. This field lets us "count holes" in spaces we can't even visualize.
            </p>
        </div>

        <h3 id="subsec-trig-place">Trigonometry's Place in the Landscape</h3>

        <p>
            Where does our subject fit? Trigonometry is a <strong>bridge discipline</strong>—it connects multiple pillars and provides essential tools for their intersection. Consider what we've learned:
        </p>

        <ul>
            <li><strong>Geometry:</strong> Trigonometry began as the study of triangles and circles—pure geometric objects</li>
            <li><strong>Algebra:</strong> We developed algebraic identities and manipulated symbolic expressions</li>
            <li><strong>Analysis:</strong> The trigonometric functions are fundamental objects in calculus; Fourier series are an analytical tool</li>
            <li><strong>Applications:</strong> From navigation to quantum mechanics, trigonometry provides the mathematical language for periodic phenomena throughout science</li>
        </ul>

        <p>
            This is why trigonometry is taught early and used everywhere. It's not merely one topic among many—it's a nexus point where multiple mathematical traditions converge.
        </p>

        <div class="highlight">
            <h4>The Unity Principle</h4>
            <p>
                The student who asks "Is this algebra or is this geometry?" is eventually asking the wrong question. It's like asking a carpenter whether a house is made of wood or nails—it's both, and it's the interaction between the materials that allows the structure to stand.
            </p>
            <p>
                The unity of mathematics lies in the realization that different fields are different <em>languages</em> describing the same underlying truths. A mathematical object—whether it's a circle, a differential equation, or a symmetry group—can be understood from multiple perspectives simultaneously. Each perspective illuminates aspects the others miss.
            </p>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 8.4: PATHS FOR FURTHER STUDY -->
        <!-- ============================================================ -->

        <h2 id="sec-8-4">8.4 Paths for Further Study</h2>

        <p>
            You've now completed a solid introduction to trigonometry—from basic ratios through Fourier analysis, with connections to complex numbers, spherical geometry, and the broader mathematical landscape. Where you go next depends on your interests and goals. This section outlines several trajectories, each building on what you've learned.
        </p>

        <h3 id="subsec-calculus-gateway">For Everyone: The Calculus Gateway</h3>

        <p>
            Regardless of your ultimate direction, <strong>calculus</strong> is the essential next step. Everything we touched on in Modules 7 and 8—Fourier series, differential equations, optimization, physics applications—requires calculus for full understanding. The trigonometric functions you've mastered will become central characters: their derivatives and integrals are elegant and reveal deep structure.
        </p>

        <div class="highlight">
            <h4>The Calculus Sequence</h4>
            <p>
                <strong>Differential Calculus:</strong> Rates of change, slopes of curves, optimization. You'll learn that $\frac{d}{dx}\sin x = \cos x$ and $\frac{d}{dx}\cos x = -\sin x$—simple rules with profound consequences.
            </p>
            <p>
                <strong>Integral Calculus:</strong> Accumulation, areas under curves, the Fundamental Theorem linking derivatives and integrals. You'll finally understand those Fourier coefficient formulas we couldn't fully derive.
            </p>
            <p>
                <strong>Multivariable Calculus:</strong> Extends these ideas to functions of several variables. Partial derivatives, multiple integrals, vector fields. Essential for physics and engineering.
            </p>
            <p>
                <strong>Differential Equations:</strong> Equations involving derivatives of unknown functions. The harmonic oscillator equation $\frac{d^2x}{dt^2} = -\omega^2 x$ has solutions involving sine and cosine—connecting calculus back to the periodic motion we studied.
            </p>
        </div>

        <h3 id="subsec-trajectory-cs">Trajectory 1: Computer Science and Software Engineering</h3>

        <p>
            For those heading toward computing, the mathematical foundations differ from traditional engineering but are equally rigorous. Here's what to prioritize after calculus:
        </p>

        <div class="example">
            <h4>Core Mathematics for CS</h4>
            <p>
                <strong>Discrete Mathematics:</strong> Logic, sets, combinatorics, graph theory, proof techniques. This is the mathematical backbone of computer science—analyzing algorithms, understanding data structures, reasoning about programs.
            </p>
            <p>
                <strong>Linear Algebra:</strong> Vectors, matrices, transformations, eigenvalues. Essential for computer graphics (those rotation matrices from Module 6), machine learning (neural networks are matrix operations), and data analysis.
            </p>
            <p>
                <strong>Probability and Statistics:</strong> Random variables, distributions, hypothesis testing. Crucial for machine learning, data science, and algorithm analysis.
            </p>
        </div>

        <div class="example">
            <h4>Where Your Trigonometry Applies</h4>
            <ul>
                <li><strong>Computer Graphics:</strong> Rotations, projections, lighting calculations—all use trigonometry and linear algebra constantly</li>
                <li><strong>Signal Processing:</strong> Audio/video codecs (MP3, H.264) are built on FFT and frequency-domain processing</li>
                <li><strong>Game Development:</strong> Physics engines, 3D rendering, procedural generation</li>
                <li><strong>Machine Learning:</strong> Fourier features in neural networks, time-series analysis, convolutional operations</li>
                <li><strong>Cryptography:</strong> Elliptic curve cryptography connects to algebraic geometry; some schemes use number-theoretic transforms (relatives of FFT)</li>
            </ul>
        </div>

        <div class="highlight">
            <h4>Recommended Sequence for CS</h4>
            <p>
                <strong>Year 1:</strong> Calculus I-II, Discrete Mathematics, Programming foundations<br>
                <strong>Year 2:</strong> Linear Algebra, Probability/Statistics, Data Structures & Algorithms<br>
                <strong>Year 3+:</strong> Specialize based on interest—graphics requires more geometry and linear algebra; ML requires more statistics and optimization; systems programming requires less math but more CS theory
            </p>
        </div>

        <h3 id="subsec-trajectory-physics">Trajectory 2: Physics and Applied Mathematics</h3>

        <p>
            Physics is mathematics applied to understanding the universe. Your trigonometry foundation is directly relevant—waves, oscillations, and periodic phenomena are everywhere in physics.
        </p>

        <div class="example">
            <h4>Core Mathematics for Physics</h4>
            <p>
                <strong>Calculus through Differential Equations:</strong> The complete sequence is non-negotiable. Physics <em>is</em> expressed in differential equations—Newton's laws, Maxwell's equations, Schrödinger's equation.
            </p>
            <p>
                <strong>Linear Algebra:</strong> Quantum mechanics is fundamentally linear algebra in infinite dimensions. Eigenvalues correspond to measurement outcomes; eigenvectors to quantum states.
            </p>
            <p>
                <strong>Complex Analysis:</strong> The calculus of complex-valued functions. Extends what you learned about complex numbers into a full calculus. Surprisingly powerful for solving physics problems.
            </p>
            <p>
                <strong>Partial Differential Equations:</strong> Heat flow, wave propagation, quantum mechanics—all governed by PDEs. Fourier methods are primary solution techniques.
            </p>
        </div>

        <div class="example">
            <h4>Where Your Trigonometry Applies</h4>
            <ul>
                <li><strong>Classical Mechanics:</strong> Oscillations, waves, normal modes—sine and cosine everywhere</li>
                <li><strong>Electromagnetism:</strong> Wave equations, AC circuits, electromagnetic radiation</li>
                <li><strong>Quantum Mechanics:</strong> Wave functions are complex-valued; Fourier transforms connect position and momentum representations</li>
                <li><strong>Optics:</strong> Wave interference, diffraction, Fourier optics</li>
                <li><strong>Thermodynamics and Statistical Mechanics:</strong> Fourier's original application! Heat equation solutions</li>
            </ul>
        </div>

        <div class="highlight">
            <h4>Recommended Sequence for Physics</h4>
            <p>
                <strong>Year 1:</strong> Calculus I-II, Introductory Physics (mechanics, E&M)<br>
                <strong>Year 2:</strong> Multivariable Calculus, Linear Algebra, Differential Equations, Modern Physics<br>
                <strong>Year 3:</strong> Complex Analysis, Classical Mechanics, Electromagnetism<br>
                <strong>Year 4:</strong> Quantum Mechanics, Statistical Mechanics, PDEs, specialized topics
            </p>
        </div>

        <h3 id="subsec-trajectory-ee">Trajectory 3: Electrical and Digital Engineering</h3>

        <p>
            Engineers apply mathematics to build systems. Electrical engineering is particularly mathematics-intensive—circuits, signals, and communications are deeply mathematical subjects.
        </p>

        <div class="example">
            <h4>Core Mathematics for EE</h4>
            <p>
                <strong>Calculus and Differential Equations:</strong> Circuit analysis, control systems, and signal processing all require fluency with derivatives, integrals, and differential equations.
            </p>
            <p>
                <strong>Complex Analysis:</strong> AC circuit analysis uses complex impedance; control systems use pole-zero analysis in the complex plane. Euler's formula is a daily tool.
            </p>
            <p>
                <strong>Linear Algebra:</strong> Systems of equations, matrix representations of circuits and systems, state-space methods.
            </p>
            <p>
                <strong>Fourier and Laplace Transforms:</strong> The heart of signal processing. Converting between time and frequency domains is the fundamental technique for analyzing and designing systems.
            </p>
            <p>
                <strong>Probability and Random Processes:</strong> Communication systems must handle noise; understanding random signals is essential.
            </p>
        </div>

        <div class="example">
            <h4>Where Your Trigonometry Applies</h4>
            <ul>
                <li><strong>AC Circuit Analysis:</strong> Voltages and currents are sinusoidal; complex impedance is fundamental</li>
                <li><strong>Signal Processing:</strong> Filter design, spectral analysis, communications—all built on Fourier</li>
                <li><strong>Control Systems:</strong> Frequency response, Bode plots, stability analysis</li>
                <li><strong>Communications:</strong> Modulation, demodulation, channel capacity—sine waves carrying information</li>
                <li><strong>Electromagnetics:</strong> Antenna design, wave propagation, radar</li>
            </ul>
        </div>

        <div class="highlight">
            <h4>Recommended Sequence for EE</h4>
            <p>
                <strong>Year 1:</strong> Calculus I-II, Physics (mechanics, E&M), Programming, Circuits I<br>
                <strong>Year 2:</strong> Multivariable Calculus, Differential Equations, Linear Algebra, Circuits II, Digital Logic<br>
                <strong>Year 3:</strong> Signals and Systems, Electronics, Electromagnetics, Probability<br>
                <strong>Year 4:</strong> Control Systems, Communications, DSP, specialized electives
            </p>
        </div>

        <h3 id="subsec-trajectory-data">Trajectory 4: Data Science and Quantitative Fields</h3>

        <p>
            Data science blends statistics, computing, and domain knowledge. The mathematical foundations emphasize probability and linear algebra over the differential equations central to physics and engineering.
        </p>

        <div class="example">
            <h4>Core Mathematics for Data Science</h4>
            <p>
                <strong>Calculus (at least through multivariate):</strong> Optimization algorithms (gradient descent) require understanding derivatives in multiple dimensions.
            </p>
            <p>
                <strong>Linear Algebra:</strong> Perhaps the single most important subject. Data is organized in matrices; transformations are matrix operations; dimensionality reduction techniques are eigenvalue problems.
            </p>
            <p>
                <strong>Probability and Statistics:</strong> The heart of data science. Understanding distributions, inference, hypothesis testing, and Bayesian reasoning.
            </p>
            <p>
                <strong>Optimization:</strong> Finding the best parameters, minimizing loss functions, constrained optimization. Connects calculus and linear algebra.
            </p>
        </div>

        <div class="example">
            <h4>Where Your Trigonometry Applies</h4>
            <ul>
                <li><strong>Time Series Analysis:</strong> Fourier methods detect seasonality and periodic patterns in data</li>
                <li><strong>Signal Processing:</strong> Audio, sensor data, any sequential measurements</li>
                <li><strong>Dimensionality Reduction:</strong> PCA and spectral methods have connections to Fourier analysis</li>
                <li><strong>Deep Learning:</strong> Positional encodings in transformers use sinusoidal functions; Fourier features appear in neural networks</li>
            </ul>
        </div>

        <h3 id="subsec-resources">Resources for Self-Study</h3>

        <div class="highlight">
            <h4>Textbooks</h4>
            <p>
                <strong>Calculus:</strong> Stewart's <em>Calculus</em> (standard), Spivak's <em>Calculus</em> (rigorous), or free resources like OpenStax<br>
                <strong>Linear Algebra:</strong> Strang's <em>Linear Algebra and Its Applications</em>, or his MIT OpenCourseWare lectures<br>
                <strong>Differential Equations:</strong> Boyce & DiPrima (standard), or Strogatz's <em>Nonlinear Dynamics and Chaos</em> (applications-focused)<br>
                <strong>Probability:</strong> Ross's <em>A First Course in Probability</em>, or Bertsekas & Tsitsiklis for more rigor
            </p>
        </div>

        <div class="highlight">
            <h4>Online Resources</h4>
            <p>
                <strong>MIT OpenCourseWare:</strong> Free lecture videos, problem sets, and exams from MIT courses<br>
                <strong>Khan Academy:</strong> Good for foundational topics and calculus review<br>
                <strong>3Blue1Brown:</strong> Exceptional visual explanations of linear algebra, calculus, and Fourier transforms<br>
                <strong>Paul's Online Math Notes:</strong> Clear explanations with worked examples for calculus and differential equations
            </p>
        </div>

        <h3 id="subsec-final-thoughts">Final Thoughts on Further Study</h3>

        <p>
            Mathematics is not a spectator sport. Whatever trajectory you choose, the key to mastery is <strong>active engagement</strong>: work problems, make mistakes, struggle through proofs, write code to visualize concepts. The trigonometry you've learned provides a foundation, but that foundation only becomes useful through continued building.
        </p>

        <p>
            Don't be discouraged if advanced topics seem impossibly abstract at first. Every mathematician has faced that feeling—and overcome it through persistence. The connections we've shown between different areas of mathematics mean that insight in one area often illuminates others unexpectedly. Keep learning, keep connecting, and the landscape will gradually become familiar terrain.
        </p>

    </div>

    <!-- ============================================================ -->
    <!-- JSXGraph Initialization Scripts -->
    <!-- ============================================================ -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        
        // --------------------------------------------------------
        // Fig. 8.1-1: Why Inverting Functions is Tricky
        // --------------------------------------------------------
        (function() {
            var board = JXG.JSXGraph.initBoard('fig-8-1-1', {
                boundingbox: [-14, 1.8, 14, -1.4],
                axis: true,
                showCopyright: false,
                showNavigation: false,
                showFullscreen: true,
                fullscreen: {
                    symbol: '\u26F6',
                    scale: 0.95
                },
                drag: {enabled: false},
                pan: {enabled: false},
                zoom: {enabled: false},
                keyboard: {enabled: false},
                defaultAxes: {
                    x: {
                        ticks: {
                            visible: true,
                            ticksDistance: 2,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-4, -15], fontSize: 10}
                        }
                    },
                    y: {
                        ticks: {
                            visible: true,
                            ticksDistance: 0.5,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-20, 0], fontSize: 10}
                        }
                    }
                }
            });

            // Horizontal line at y = 0.5
            board.create('line', [[0, 0.5], [1, 0.5]], {
                strokeColor: '#888',
                strokeWidth: 2,
                dash: 2,
                fixed: true
            });
            board.create('text', [12, 0.65, 'y = 0.5'], {
                fontSize: 11, fixed: true, color: '#666'
            });

            // Linear function
            board.create('functiongraph', [
                function(x) { return 0.04 * x + 0.5; },
                -14, 14
            ], {
                strokeColor: '#3b82f6',
                strokeWidth: 2.5,
                fixed: true
            });

            // Quadratic function
            board.create('functiongraph', [
                function(x) { return 0.006 * x * x; },
                -14, 14
            ], {
                strokeColor: '#10b981',
                strokeWidth: 2.5,
                fixed: true
            });

            // Sine function
            board.create('functiongraph', [
                function(x) { return Math.sin(x); },
                -14, 14
            ], {
                strokeColor: '#ef4444',
                strokeWidth: 2.5,
                fixed: true
            });

            // Intersection points
            board.create('point', [0, 0.5], {
                size: 3, fillColor: '#3b82f6', strokeColor: '#3b82f6',
                fixed: true, name: '', withLabel: false
            });
            board.create('point', [9.13, 0.5], {
                size: 3, fillColor: '#10b981', strokeColor: '#10b981',
                fixed: true, name: '', withLabel: false
            });
            board.create('point', [-9.13, 0.5], {
                size: 3, fillColor: '#10b981', strokeColor: '#10b981',
                fixed: true, name: '', withLabel: false
            });
            var sineIntersections = [];
            for (var k = -2; k <= 1; k++) {
                sineIntersections.push(Math.PI/6 + 2*Math.PI*k);
                sineIntersections.push(5*Math.PI/6 + 2*Math.PI*k);
            }
            sineIntersections.forEach(function(x) {
                if (x >= -13 && x <= 13) {
                    board.create('point', [x, 0.5], {
                        size: 3, fillColor: '#ef4444', strokeColor: '#ef4444',
                        fixed: true, name: '', withLabel: false
                    });
                }
            });

            // Legend
            board.create('text', [-13, 1.55, 'Linear: y = 0.04x + 0.5'], {
                fontSize: 11, fixed: true, color: '#3b82f6'
            });
            board.create('text', [-13, 1.35, 'Quadratic: y = 0.006x\u00B2'], {
                fontSize: 11, fixed: true, color: '#10b981'
            });
            board.create('text', [-13, 1.15, 'Sine: y = sin(x)'], {
                fontSize: 11, fixed: true, color: '#ef4444'
            });
            board.create('text', [-4.5, 1.55, '(1 intersection)'], {
                fontSize: 10, fixed: true, color: '#3b82f6'
            });
            board.create('text', [-4.5, 1.35, '(2 intersections)'], {
                fontSize: 10, fixed: true, color: '#10b981'
            });
            board.create('text', [-4.5, 1.15, '(8 intersections)'], {
                fontSize: 10, fixed: true, color: '#ef4444'
            });
        })();

        // --------------------------------------------------------
        // Fig. 8.1-2: The Arcsine Function
        // --------------------------------------------------------
        (function() {
            var board = JXG.JSXGraph.initBoard('fig-8-1-2', {
                boundingbox: [-2.2, 2.2, 2.2, -2.2],
                axis: true,
                showCopyright: false,
                showNavigation: false,
                showFullscreen: true,
                fullscreen: {
                    symbol: '\u26F6',
                    scale: 0.95
                },
                drag: {enabled: false},
                pan: {enabled: false},
                zoom: {enabled: false},
                keyboard: {enabled: false},
                defaultAxes: {
                    x: {
                        ticks: {
                            visible: true,
                            ticksDistance: 1,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-4, -15], fontSize: 10}
                        }
                    },
                    y: {
                        ticks: {
                            visible: true,
                            ticksDistance: 1,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-25, 0], fontSize: 10}
                        }
                    }
                }
            });

            // Reflection line y = x (dashed gray)
            board.create('line', [[0, 0], [1, 1]], {
                strokeColor: '#888',
                strokeWidth: 1.5,
                dash: 2,
                fixed: true
            });

            // Restricted sine: x in [-pi/2, pi/2], y in [-1, 1]
            board.create('functiongraph', [
                function(x) {
                    if (x < -Math.PI/2 || x > Math.PI/2) return NaN;
                    return Math.sin(x);
                },
                -Math.PI/2, Math.PI/2
            ], {
                strokeColor: '#3b82f6',
                strokeWidth: 2.5,
                fixed: true
            });

            // Arcsine: x in [-1, 1], y in [-pi/2, pi/2]
            board.create('functiongraph', [
                function(x) {
                    if (x < -1 || x > 1) return NaN;
                    return Math.asin(x);
                },
                -1, 1
            ], {
                strokeColor: '#10b981',
                strokeWidth: 2.5,
                fixed: true
            });

            // Labels
            board.create('text', [-2.1, Math.PI/2, '\u03C0/2'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [-2.15, -Math.PI/2, '-\u03C0/2'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [Math.PI/2, -2.0, '\u03C0/2'], {
                fontSize: 10, fixed: true, color: '#666'
            });

            // Legend
            board.create('text', [0.3, 2.0, 'sin(x)'], {
                fontSize: 10, fixed: true, color: '#3b82f6'
            });
            board.create('text', [1.1, 1.2, 'arcsin(x)'], {
                fontSize: 10, fixed: true, color: '#10b981'
            });
            board.create('text', [1.5, 1.7, 'y = x'], {
                fontSize: 10, fixed: true, color: '#888'
            });
        })();

        // --------------------------------------------------------
        // Fig. 8.1-3: The Arccosine Function
        // --------------------------------------------------------
        (function() {
            var board = JXG.JSXGraph.initBoard('fig-8-1-3', {
                boundingbox: [-1.8, 3.8, 3.8, -1.8],
                axis: true,
                showCopyright: false,
                showNavigation: false,
                showFullscreen: true,
                fullscreen: {
                    symbol: '\u26F6',
                    scale: 0.95
                },
                drag: {enabled: false},
                pan: {enabled: false},
                zoom: {enabled: false},
                keyboard: {enabled: false},
                defaultAxes: {
                    x: {
                        ticks: {
                            visible: true,
                            ticksDistance: 1,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-4, -15], fontSize: 10}
                        }
                    },
                    y: {
                        ticks: {
                            visible: true,
                            ticksDistance: 1,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-25, 0], fontSize: 10}
                        }
                    }
                }
            });

            // Reflection line y = x
            board.create('line', [[0, 0], [1, 1]], {
                strokeColor: '#888',
                strokeWidth: 1.5,
                dash: 2,
                fixed: true
            });

            // Restricted cosine: x in [0, pi], y in [-1, 1]
            board.create('functiongraph', [
                function(x) {
                    if (x < 0 || x > Math.PI) return NaN;
                    return Math.cos(x);
                },
                0, Math.PI
            ], {
                strokeColor: '#3b82f6',
                strokeWidth: 2.5,
                fixed: true
            });

            // Arccosine: x in [-1, 1], y in [0, pi]
            board.create('functiongraph', [
                function(x) {
                    if (x < -1 || x > 1) return NaN;
                    return Math.acos(x);
                },
                -1, 1
            ], {
                strokeColor: '#10b981',
                strokeWidth: 2.5,
                fixed: true
            });

            // Labels
            board.create('text', [-1.7, Math.PI, '\u03C0'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [-1.75, Math.PI/2, '\u03C0/2'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [Math.PI, -0.3, '\u03C0'], {
                fontSize: 10, fixed: true, color: '#666'
            });

            // Legend
            board.create('text', [2.0, 0.5, 'cos(x)'], {
                fontSize: 10, fixed: true, color: '#3b82f6'
            });
            board.create('text', [0.3, 2.5, 'arccos(x)'], {
                fontSize: 10, fixed: true, color: '#10b981'
            });
            board.create('text', [2.5, 2.8, 'y = x'], {
                fontSize: 10, fixed: true, color: '#888'
            });
        })();

        // --------------------------------------------------------
        // Fig. 8.1-4: The Arctangent Function
        // --------------------------------------------------------
        (function() {
            var board = JXG.JSXGraph.initBoard('fig-8-1-4', {
                boundingbox: [-4, 4, 4, -4],
                axis: true,
                showCopyright: false,
                showNavigation: false,
                showFullscreen: true,
                fullscreen: {
                    symbol: '\u26F6',
                    scale: 0.95
                },
                drag: {enabled: false},
                pan: {enabled: false},
                zoom: {enabled: false},
                keyboard: {enabled: false},
                defaultAxes: {
                    x: {
                        ticks: {
                            visible: true,
                            ticksDistance: 1,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-4, -15], fontSize: 10}
                        }
                    },
                    y: {
                        ticks: {
                            visible: true,
                            ticksDistance: 1,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-25, 0], fontSize: 10}
                        }
                    }
                }
            });

            // Reflection line y = x
            board.create('line', [[0, 0], [1, 1]], {
                strokeColor: '#888',
                strokeWidth: 1.5,
                dash: 2,
                fixed: true
            });

            // Vertical asymptotes for tangent at +/- pi/2
            board.create('line', [[Math.PI/2, -4], [Math.PI/2, 4]], {
                strokeColor: '#3b82f6',
                strokeWidth: 1,
                dash: 3,
                fixed: true
            });
            board.create('line', [[-Math.PI/2, -4], [-Math.PI/2, 4]], {
                strokeColor: '#3b82f6',
                strokeWidth: 1,
                dash: 3,
                fixed: true
            });

            // Horizontal asymptotes for arctangent
            board.create('line', [[-4, Math.PI/2], [4, Math.PI/2]], {
                strokeColor: '#10b981',
                strokeWidth: 1,
                dash: 3,
                fixed: true
            });
            board.create('line', [[-4, -Math.PI/2], [4, -Math.PI/2]], {
                strokeColor: '#10b981',
                strokeWidth: 1,
                dash: 3,
                fixed: true
            });

            // Restricted tangent
            board.create('functiongraph', [
                function(x) {
                    if (x <= -Math.PI/2 + 0.05 || x >= Math.PI/2 - 0.05) return NaN;
                    var val = Math.tan(x);
                    if (val > 3.8 || val < -3.8) return NaN;
                    return val;
                },
                -Math.PI/2 + 0.05, Math.PI/2 - 0.05
            ], {
                strokeColor: '#3b82f6',
                strokeWidth: 2.5,
                fixed: true
            });

            // Arctangent
            board.create('functiongraph', [
                function(x) { return Math.atan(x); },
                -4, 4
            ], {
                strokeColor: '#10b981',
                strokeWidth: 2.5,
                fixed: true
            });

            // Labels
            board.create('text', [-3.9, Math.PI/2 + 0.2, '\u03C0/2'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [-3.95, -Math.PI/2 - 0.3, '-\u03C0/2'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [Math.PI/2 + 0.1, -3.8, '\u03C0/2'], {
                fontSize: 10, fixed: true, color: '#666'
            });

            // Legend
            board.create('text', [0.3, 3.5, 'tan(x)'], {
                fontSize: 10, fixed: true, color: '#3b82f6'
            });
            board.create('text', [2.5, 0.8, 'arctan(x)'], {
                fontSize: 10, fixed: true, color: '#10b981'
            });
            board.create('text', [2.8, 3.2, 'y = x'], {
                fontSize: 10, fixed: true, color: '#888'
            });
        })();

        // --------------------------------------------------------
        // Fig. 8.1-5: Angle of Elevation
        // --------------------------------------------------------
        (function() {
            var board = JXG.JSXGraph.initBoard('fig-8-1-5', {
                boundingbox: [-8, 50, 65, -12],
                axis: false,
                showCopyright: false,
                showNavigation: false,
                showFullscreen: true,
                fullscreen: {
                    symbol: '\u26F6',
                    scale: 0.95
                },
                drag: {enabled: false},
                pan: {enabled: false},
                zoom: {enabled: false},
                keyboard: {enabled: false}
            });

            board.create('segment', [[-5, 0], [60, 0]], {
                strokeColor: '#888', strokeWidth: 2, fixed: true
            });
            board.create('polygon', [[50, 0], [55, 0], [55, 35], [50, 35]], {
                fillColor: '#d1d5db', 
                borders: {strokeColor: '#6b7280', strokeWidth: 2},
                fixed: true,
                vertices: {visible: false}
            });
            board.create('point', [0, 0], {
                size: 5, fillColor: '#3b82f6', strokeColor: '#1e40af',
                fixed: true, name: 'S', label: {offset: [-10, -15], fontSize: 12}
            });
            board.create('segment', [[0, 0], [50, 35]], {
                strokeColor: '#ef4444', strokeWidth: 2, dash: 2, fixed: true
            });
            board.create('point', [50, 35], {
                size: 4, fillColor: '#ef4444', strokeColor: '#b91c1c',
                fixed: true, name: 'T', label: {offset: [5, 10], fontSize: 12}
            });
            board.create('arc', [[0, 0], [15, 0], [50, 35]], {
                strokeColor: '#10b981', strokeWidth: 2, fixed: true
            });
            board.create('text', [18, 6, '\u03B8 \u2248 35\u00B0'], {
                fontSize: 11, fixed: true, color: '#10b981'
            });
            board.create('text', [25, -8, '50 m'], {
                fontSize: 11, fixed: true, anchorX: 'middle'
            });
            board.create('text', [59, 17, '35 m'], {
                fontSize: 11, fixed: true
            });
            board.create('polygon', [[50, 0], [50, 5], [45, 5], [45, 0]], {
                fillColor: 'none',
                borders: {strokeColor: '#888', strokeWidth: 1},
                fixed: true,
                vertices: {visible: false}
            });
        })();

        // --------------------------------------------------------
        // Fig. 8.1-6: Why We Need atan2
        // --------------------------------------------------------
        (function() {
            var board = JXG.JSXGraph.initBoard('fig-8-1-6', {
                boundingbox: [-6, 5, 6, -5],
                axis: true,
                showCopyright: false,
                showNavigation: false,
                showFullscreen: true,
                fullscreen: {
                    symbol: '\u26F6',
                    scale: 0.95
                },
                drag: {enabled: false},
                pan: {enabled: false},
                zoom: {enabled: false},
                keyboard: {enabled: false},
                defaultAxes: {
                    x: {
                        ticks: {
                            visible: true,
                            ticksDistance: 2,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-4, -15], fontSize: 10}
                        }
                    },
                    y: {
                        ticks: {
                            visible: true,
                            ticksDistance: 2,
                            minorTicks: 1,
                            drawLabels: true,
                            label: {offset: [-20, 0], fontSize: 10}
                        }
                    }
                }
            });

            board.create('point', [0, 0], {
                size: 4, fillColor: '#333', strokeColor: '#333',
                fixed: true, name: '', withLabel: false
            });
            board.create('arrow', [[0, 0], [4, 3]], {
                strokeColor: '#3b82f6', strokeWidth: 3, fixed: true
            });
            board.create('point', [4, 3], {
                size: 4, fillColor: '#3b82f6', strokeColor: '#1e40af',
                fixed: true, name: '(4, 3)', label: {offset: [5, 5], fontSize: 11, color: '#1e40af'}
            });
            board.create('arc', [[0, 0], [1.5, 0], [4, 3]], {
                strokeColor: '#3b82f6', strokeWidth: 2, fixed: true
            });
            board.create('text', [2, 0.7, '37\u00B0'], {
                fontSize: 10, fixed: true, color: '#3b82f6'
            });
            board.create('arrow', [[0, 0], [-4, -3]], {
                strokeColor: '#f97316', strokeWidth: 3, fixed: true
            });
            board.create('point', [-4, -3], {
                size: 4, fillColor: '#f97316', strokeColor: '#c2410c',
                fixed: true, name: '(-4, -3)', label: {offset: [-45, -10], fontSize: 11, color: '#c2410c'}
            });
            board.create('arc', [[0, 0], [1.2, 0], [-4, -3]], {
                strokeColor: '#f97316', strokeWidth: 2, fixed: true
            });
            board.create('text', [-2.5, -1.2, '217\u00B0'], {
                fontSize: 10, fixed: true, color: '#f97316'
            });
            board.create('text', [-5.5, 4.3, 'Both have ratio 3/4'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [-5.5, 3.7, 'arctan(0.75) = 37\u00B0'], {
                fontSize: 10, fixed: true, color: '#666'
            });
            board.create('text', [-5.5, 3.1, 'for both!'], {
                fontSize: 10, fixed: true, color: '#666'
            });
        })();

        // --------------------------------------------------------
        // Fig. 8.2-1: Triangle on a Sphere (Plotly 3D)
        // --------------------------------------------------------
        (function() {
            // Generate sphere surface
            function sphereSurface(radius, nLat, nLon) {
                var x = [], y = [], z = [];
                for (var i = 0; i <= nLat; i++) {
                    var lat = (i / nLat) * Math.PI - Math.PI/2;
                    var xRow = [], yRow = [], zRow = [];
                    for (var j = 0; j <= nLon; j++) {
                        var lon = (j / nLon) * 2 * Math.PI;
                        xRow.push(radius * Math.cos(lat) * Math.cos(lon));
                        yRow.push(radius * Math.cos(lat) * Math.sin(lon));
                        zRow.push(radius * Math.sin(lat));
                    }
                    x.push(xRow);
                    y.push(yRow);
                    z.push(zRow);
                }
                return {x: x, y: y, z: z};
            }
            
            // Generate great circle arc between two points
            function greatCircleArc(lat1, lon1, lat2, lon2, radius, nPoints) {
                // Convert to radians
                lat1 = lat1 * Math.PI / 180;
                lon1 = lon1 * Math.PI / 180;
                lat2 = lat2 * Math.PI / 180;
                lon2 = lon2 * Math.PI / 180;
                
                // Convert to Cartesian
                var p1 = [Math.cos(lat1)*Math.cos(lon1), Math.cos(lat1)*Math.sin(lon1), Math.sin(lat1)];
                var p2 = [Math.cos(lat2)*Math.cos(lon2), Math.cos(lat2)*Math.sin(lon2), Math.sin(lat2)];
                
                // Interpolate along great circle
                var x = [], y = [], z = [];
                for (var i = 0; i <= nPoints; i++) {
                    var t = i / nPoints;
                    // Spherical interpolation (SLERP)
                    var dot = p1[0]*p2[0] + p1[1]*p2[1] + p1[2]*p2[2];
                    var omega = Math.acos(Math.min(1, Math.max(-1, dot)));
                    var sinOmega = Math.sin(omega);
                    
                    var s0, s1;
                    if (sinOmega > 0.001) {
                        s0 = Math.sin((1-t)*omega) / sinOmega;
                        s1 = Math.sin(t*omega) / sinOmega;
                    } else {
                        s0 = 1 - t;
                        s1 = t;
                    }
                    
                    var px = s0*p1[0] + s1*p2[0];
                    var py = s0*p1[1] + s1*p2[1];
                    var pz = s0*p1[2] + s1*p2[2];
                    
                    // Normalize and scale
                    var len = Math.sqrt(px*px + py*py + pz*pz);
                    x.push(radius * px / len);
                    y.push(radius * py / len);
                    z.push(radius * pz / len);
                }
                return {x: x, y: y, z: z};
            }
            
            var R = 1;
            var nPoints = 50;
            
            // Sphere surface
            var sphere = sphereSurface(R * 0.98, 30, 30);
            var surfaceTrace = {
                type: 'surface',
                x: sphere.x,
                y: sphere.y,
                z: sphere.z,
                colorscale: [[0, '#e0f2fe'], [1, '#bae6fd']],
                showscale: false,
                opacity: 0.4,
                hoverinfo: 'skip'
            };
            
            // Triangle vertices in northern hemisphere (generic position)
            var v1 = {lat: 65, lon: 0};    // Near but not at pole
            var v2 = {lat: 30, lon: -40};  // Lower left
            var v3 = {lat: 35, lon: 50};   // Lower right
            
            // Triangle edges (great circle arcs)
            var edge1 = greatCircleArc(v1.lat, v1.lon, v2.lat, v2.lon, R, nPoints);
            var edge2 = greatCircleArc(v2.lat, v2.lon, v3.lat, v3.lon, R, nPoints);
            var edge3 = greatCircleArc(v3.lat, v3.lon, v1.lat, v1.lon, R, nPoints);
            
            var edgeTraces = [edge1, edge2, edge3].map(function(edge, idx) {
                return {
                    type: 'scatter3d',
                    mode: 'lines',
                    x: edge.x,
                    y: edge.y,
                    z: edge.z,
                    line: {color: '#ef4444', width: 6},
                    name: 'Triangle edge',
                    showlegend: idx === 0,
                    hoverinfo: 'skip'
                };
            });
            
            // Triangle vertices as points
            function latLonToXYZ(lat, lon, r) {
                var latRad = lat * Math.PI / 180;
                var lonRad = lon * Math.PI / 180;
                return {
                    x: r * Math.cos(latRad) * Math.cos(lonRad),
                    y: r * Math.cos(latRad) * Math.sin(lonRad),
                    z: r * Math.sin(latRad)
                };
            }
            
            var p1 = latLonToXYZ(v1.lat, v1.lon, R);
            var p2 = latLonToXYZ(v2.lat, v2.lon, R);
            var p3 = latLonToXYZ(v3.lat, v3.lon, R);
            
            var verticesTrace = {
                type: 'scatter3d',
                mode: 'markers+text',
                x: [p1.x, p2.x, p3.x],
                y: [p1.y, p2.y, p3.y],
                z: [p1.z, p2.z, p3.z],
                marker: {size: 6, color: '#dc2626'},
                text: ['A', 'B', 'C'],
                textposition: 'top center',
                textfont: {size: 14, color: '#991b1b'},
                name: 'Vertices',
                hoverinfo: 'text'
            };
            
            // Light reference lines (equator)
            var equator = greatCircleArc(0, 0, 0, 180, R, 100);
            var equator2 = greatCircleArc(0, 180, 0, 360, R, 100);
            var equatorTrace = {
                type: 'scatter3d',
                mode: 'lines',
                x: equator.x.concat(equator2.x),
                y: equator.y.concat(equator2.y),
                z: equator.z.concat(equator2.z),
                line: {color: '#94a3b8', width: 2},
                name: 'Equator',
                hoverinfo: 'skip'
            };
            
            var data = [surfaceTrace, equatorTrace].concat(edgeTraces).concat([verticesTrace]);
            
            var layout = {
                scene: {
                    xaxis: {visible: false},
                    yaxis: {visible: false},
                    zaxis: {visible: false},
                    aspectmode: 'cube',
                    camera: {
                        eye: {x: 1.3, y: 1.3, z: 1.0}
                    }
                },
                margin: {l: 0, r: 0, t: 30, b: 0},
                showlegend: false,
                title: {
                    text: 'Drag to rotate',
                    font: {size: 12, color: '#888'}
                }
            };
            
            var config = {
                responsive: true,
                displayModeBar: true,
                modeBarButtonsToRemove: ['toImage', 'sendDataToCloud']
            };
            
            Plotly.newPlot('fig-8-2-1', data, layout, config);
        })();

        // --------------------------------------------------------
        // Fig. 8.2-2: Great Circles vs Lines of Latitude (Plotly 3D)
        // --------------------------------------------------------
        (function() {
            // Generate points for a latitude circle on the sphere
            function sphereCircle(radius, latDeg, nPoints) {
                var lat = latDeg * Math.PI / 180;
                var circleRadius = radius * Math.cos(lat);
                var z = radius * Math.sin(lat);
                
                var x = [], y = [], zArr = [];
                for (var i = 0; i <= nPoints; i++) {
                    var theta = (i / nPoints) * 2 * Math.PI;
                    x.push(circleRadius * Math.cos(theta));
                    y.push(circleRadius * Math.sin(theta));
                    zArr.push(z);
                }
                return {x: x, y: y, z: zArr};
            }
            
            // Generate points for a meridian (longitude line)
            function meridian(radius, lonDeg, nPoints) {
                var lon = lonDeg * Math.PI / 180;
                
                var x = [], y = [], z = [];
                for (var i = 0; i <= nPoints; i++) {
                    var lat = (i / nPoints) * Math.PI - Math.PI/2;
                    x.push(radius * Math.cos(lat) * Math.cos(lon));
                    y.push(radius * Math.cos(lat) * Math.sin(lon));
                    z.push(radius * Math.sin(lat));
                }
                return {x: x, y: y, z: z};
            }
            
            // Generate a sphere surface for context
            function sphereSurface(radius, nLat, nLon) {
                var x = [], y = [], z = [];
                for (var i = 0; i <= nLat; i++) {
                    var lat = (i / nLat) * Math.PI - Math.PI/2;
                    var xRow = [], yRow = [], zRow = [];
                    for (var j = 0; j <= nLon; j++) {
                        var lon = (j / nLon) * 2 * Math.PI;
                        xRow.push(radius * Math.cos(lat) * Math.cos(lon));
                        yRow.push(radius * Math.cos(lat) * Math.sin(lon));
                        zRow.push(radius * Math.sin(lat));
                    }
                    x.push(xRow);
                    y.push(yRow);
                    z.push(zRow);
                }
                return {x: x, y: y, z: z};
            }
            
            var R = 1;
            var nPoints = 100;
            
            // Create sphere surface (light, semi-transparent)
            var sphere = sphereSurface(R * 0.98, 30, 30);
            var surfaceTrace = {
                type: 'surface',
                x: sphere.x,
                y: sphere.y,
                z: sphere.z,
                colorscale: [[0, '#e0f2fe'], [1, '#bae6fd']],
                showscale: false,
                opacity: 0.3,
                hoverinfo: 'skip'
            };
            
            // Latitude lines (blue) - equator + two others
            var latitudes = [0, 45, -45];
            var latTraces = latitudes.map(function(lat) {
                var circle = sphereCircle(R, lat, nPoints);
                var name = lat === 0 ? 'Equator (also great circle)' : lat + '\u00B0 latitude';
                var width = lat === 0 ? 5 : 4;
                return {
                    type: 'scatter3d',
                    mode: 'lines',
                    x: circle.x,
                    y: circle.y,
                    z: circle.z,
                    line: {color: '#3b82f6', width: width},
                    name: name,
                    hoverinfo: 'name'
                };
            });
            
            // Longitude lines (green) - meridians
            var longitudes = [0, 60, 120];
            var lonTraces = longitudes.map(function(lon) {
                var merid = meridian(R, lon, nPoints);
                return {
                    type: 'scatter3d',
                    mode: 'lines',
                    x: merid.x,
                    y: merid.y,
                    z: merid.z,
                    line: {color: '#10b981', width: 4},
                    name: lon + '\u00B0 meridian (great circle)',
                    hoverinfo: 'name'
                };
            });
            
            // Poles
            var polesTrace = {
                type: 'scatter3d',
                mode: 'markers+text',
                x: [0, 0],
                y: [0, 0],
                z: [R, -R],
                marker: {size: 6, color: '#ef4444'},
                text: ['N', 'S'],
                textposition: 'top center',
                textfont: {size: 14, color: '#b91c1c'},
                name: 'Poles',
                hoverinfo: 'text'
            };
            
            // Earth's center
            var centerTrace = {
                type: 'scatter3d',
                mode: 'markers+text',
                x: [0],
                y: [0],
                z: [0],
                marker: {size: 5, color: '#333'},
                text: ['C'],
                textposition: 'bottom center',
                textfont: {size: 12, color: '#333'},
                name: 'Center',
                hoverinfo: 'text'
            };
            
            var data = [surfaceTrace].concat(latTraces).concat(lonTraces).concat([polesTrace, centerTrace]);
            
            var layout = {
                scene: {
                    xaxis: {visible: false},
                    yaxis: {visible: false},
                    zaxis: {visible: false},
                    aspectmode: 'cube',
                    camera: {
                        eye: {x: 1.5, y: 1.5, z: 0.8}
                    }
                },
                margin: {l: 0, r: 0, t: 30, b: 0},
                legend: {
                    x: 0,
                    y: 1,
                    bgcolor: 'rgba(255,255,255,0.8)'
                },
                title: {
                    text: 'Drag to rotate',
                    font: {size: 12, color: '#888'}
                }
            };
            
            var config = {
                responsive: true,
                displayModeBar: true,
                modeBarButtonsToRemove: ['toImage', 'sendDataToCloud']
            };
            
            Plotly.newPlot('fig-8-2-2', data, layout, config);
        })();

    });
    </script>

</body>
</html>
